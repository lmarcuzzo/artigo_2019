\section{Conclusion and Future Work}

Network Functions Virtualization (NFV) has been attracting great interest from both industry and academia. However, despite all the advancements in the field, there are still opportunities for research, development, and standardization. For example, there are no widely accepted definitions for the internal architecture of the platforms responsible for executing NFs, neither the processing of NSH inside those VNFs. This leads to a scenario where several platforms (\textit{e.g.}, ClickOS and OpenNetVM) have been created without integration concerns in mind, the result is that none fulfills the complete set of NFV requirements.

% Virtualização de funções de rede tem atraído grande interesse de pesquisadores no mundo inteiro desde sua formalização inicial. Porém, apesar de chamar a atenção tanto da academia quanto da indústria, esse paradigma ainda não chegou a maturidade de conceitos, tecnologias e padronizações. Plataformas para execução de funções virtualizadas de rede se incluem nesse grupo onde, embora existam requisitos de alto nível para desenvolvimento das mesmas, há uma lacuna na literatura quanto sua organização arquitetural interna. Dessa forma, o desenvolvimento dessas plataforma é realizado sob demanda, resultando em soluções altamente heterogêneas e inflexíveis.

This work proposed an architecture for VNF Platforms with NSH support. We specified the basic modules for building a platform, as well as identified existing NFV enablers that can be employed during such development. We also presented a platform prototype that employs the proposed architecture to support the execution of disparate network functions. Finally, we conducted a performance evalution to identify the advantages of employing NSH. The experiment shows the advantages of using NSH when designing SFCs. First, the NSH Context-Header enables the functions to communicate and change information in-band. Second, the Service Index field allows the creation of dynamic SFCs, without the need to \textit{a priori} set the path of VNFs, thus enabling traffic steering to be executed by using common solutions (e.g., Open vSwitch, P4-enabled equipment). Future work includes the investigation on how the current VNF/SFC descriptors (\textit{e.g., TOSCA}) have to be adapted to support NSH, and improve the prototype by supporting novel packet processing frameworks (\textit{e.g.,} VPP) and other virtual network technologies (\textit{e.g.,} netmap).

% Este artigo apresenta uma proposta de arquitetura interna para plataformas destinadas a execução de funções de rede virtualizadas. Através do detalhamento dos blocos operacionais necessários em vista dos requisitos especificados, uma arquitetura genérica é discuta afim de dirigir os esforços de desenvolvimento a encontro de plataformas padronizadas, flexíveis e facilmente estendidas de acordo com o surgimento de novas tecnologias. Também, um protótipo de plataforma, intitulado Click-on-OSv, foi desenvolvido como prova de conceito, compreendendo, de maneira simplificada, os blocos operacionais previstos na arquitetura de referência apresentada. Finalmente, diversos aspectos operacionais da plataforma Click-on-OSv foram avaliados e comparados a outras soluções com objetivos semelhantes.



%\section*{Acknowledgements}

%This research was performed partially within the project GT-FENDE. The authors would like to thank Rede Nacional de Ensino e Pesquisa (RNP), for their support to the GT-FENDE project.


% As future work, we aim to improve the architecture presented in this paper by detailing the components Dispatcher and NSH Processor, and discussing how the current VNF/SFC descriptors must be adapted to support novel VNF platforms. Finally, improvements in the Click-on-OSv will be conducted to support other virtual network technologies and packet processing frameworks, as well as to improve its performance.

% Em trabalhos futuros objetiva-se aprofundar as especificações arquiteturais de plataformas para execução de funções virtualizadas de rede através do desenvolvimento de um documento de especificação ricamente detalhado. Através desse busca-se solidificar os requisitos mínimos e modelos de desenvolvimento para cada bloco operacional interno, além de apontar modificações necessárias nos descritores de funções e serviços existentes para suportarem tal arquitetura. Ainda, uma análise profunda de diferentes tipos de NFV \textit{Enablers} será realizada com o objetivo de observar não só o desempenho de processamento de pacotes, mas também o impacto da ativação, desativação e/ou substituição dos mesmos em diferentes cenários de uso. Finalmente, aprimoramentos no protótipo de plataforma Click-on-OSv serão realizados com o intuíto de disponibilizar diferentes ferramentas para a rede virtual e \textit{frameworks} para o processamento de pacotes, concretizando este como uma opção completa, genérica e flexível para execução de VNFs.
